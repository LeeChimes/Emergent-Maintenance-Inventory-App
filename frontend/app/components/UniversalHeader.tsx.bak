import React from "react";
import { View, Text, StyleSheet } from "react-native";
import { useTheme } from "../../theme";

type Props = { title?: string; right?: React.ReactNode; left?: React.ReactNode };

export default function UniversalHeader({ title, right, left }: Props) {
  const t = useTheme();
  const styles = StyleSheet.create({
    root: {
      backgroundColor: t.colors.bgSurface,
      borderBottomColor: t.colors.border,
      borderBottomWidth: StyleSheet.hairlineWidth,
      paddingTop: t.spacing.lg,
      paddingBottom: t.spacing.md,
      paddingHorizontal: t.spacing.lg,
      flexDirection: "row",
      alignItems: "center",
      justifyContent: "space-between",
    },
    side: { minWidth: 44, minHeight: 44, justifyContent: "center" },
    title: {
      color: t.colors.text,
      fontSize: t.typography.lg,
      fontWeight: t.typography.semibold,
      lineHeight: t.typography.lh(t.typography.lg),
      textAlign: "center",
      flex: 1,
    },
  });

  return (
    <View style={styles.root}>
      <View style={styles.side}>{left ?? null}</View>
      <Text numberOfLines={1} style={styles.title}>{title ?? ""}</Text>
      <View style={styles.side}>{right ?? null}</View>
    </View>
  );
}