import React from "react";
import { View, Text, StyleSheet } from "react-native";
import { useTheme } from "../../theme";

type Props = { title?: string; right?: React.ReactNode; left?: React.ReactNode };

export default function UniversalHeader({ title, right, left }: Props) {
  const t = useTheme();
  const styles = StyleSheet.create({
    root: {
      position: "relative",
      backgroundColor: t.colors.bgSurface,
      borderBottomColor: t.colors.border,
      borderBottomWidth: StyleSheet.hairlineWidth,
      paddingVertical: t.spacing.md,
      paddingHorizontal: t.spacing.lg,
      flexDirection: "row",
      alignItems: "center",
    },
    sideLeft: { minWidth: 120, minHeight: 44, justifyContent: "center" },
    sideRight: { minWidth: 120, minHeight: 44, justifyContent: "center", alignItems: "flex-end", marginLeft: "auto" },
    centerOverlay: {
      position: "absolute",
      left: 0, right: 0, top: 0, bottom: 0,
      alignItems: "center",
      justifyContent: "center",
      pointerEvents: "none",
    },
    title: {
      color: t.colors.text,
      fontSize: t.typography.lg,
      fontWeight: t.typography.semibold,
      lineHeight: t.typography.lh(t.typography.lg),
    },
  });

  return (
    <View style={styles.root}>
      <View style={styles.sideLeft}>{left ?? null}</View>
      <View style={styles.centerOverlay}>
        <Text numberOfLines={1} style={styles.title}>{title ?? ""}</Text>
      </View>
      <View style={styles.sideRight}>{right ?? null}</View>
    </View>
  );
}